<div class="my-bookings-page">
  <div class="container">
    <div class="section-header">
      <h1 class="section-title">MY BOOKINGS</h1>
      <p class="section-subtitle">Your upcoming tavern adventures</p>
    </div>

    <div *ngIf="isLoading" class="loading">
      <div class="loading-text">Loading your bookings...</div>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <div *ngIf="!isLoading && !error && bookings.length === 0" class="empty-state">
      <div class="empty-icon">ðŸ“œ</div>
      <h3>No bookings yet</h3>
      <p>It's time to embark on a new adventure!</p>
    </div>

    <div *ngIf="!isLoading && !error && bookings.length > 0" class="bookings-table-container">
      <table class="tavern-table">
        <thead>
          <tr>
            <th>Date & Time</th>
            <th>Status</th>
            <th>Players</th>
            <th>Title</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let booking of bookings" 
              [class.past-booking]="!isUpcoming(booking)"
              [class.upcoming-booking]="isUpcoming(booking)">
            <td class="date-cell">
              <div class="date-time">
                {{ formatDate(booking.slot.startTime) }}
              </div>
            </td>
            <td class="status-cell">
              <span class="status-badge" 
                    [class.status-upcoming]="isUpcoming(booking)"
                    [class.status-past]="!isUpcoming(booking)">
                {{ isUpcoming(booking) ? 'Upcoming' : 'Completed' }}
              </span>
            </td>
            <td class="players-cell">
              {{ booking.slot.currentPlayers }}/{{ booking.slot.availableSlots+booking.slot.currentPlayers }}
            </td>
            <td class="booked-cell">
              {{ booking.slot.campaignTitle }}
            </td>
            <td class="actions-cell">
              <button *ngIf="isUpcoming(booking)" 
                      class="btn btn-danger btn-sm cancel-btn"
                      (click)="onCancelBooking(booking.id)">
                Cancel
              </button>
              <span *ngIf="!isUpcoming(booking)" class="text-muted">â€”</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>